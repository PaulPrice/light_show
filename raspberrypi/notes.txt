Use "Raspberry Pi Imager" application to write a Raspbian image.

price@PU-C02F30LBMD6V:/Volumes/boot $ touch ssh
price@PU-C02F30LBMD6V:/Volumes/boot $ cp ~/Software/HolidayLights/raspberrypi/wpa_supplicant.conf .

Start the RPi.

price@PU-C02F30LBMD6V:~ $ ping raspberrypi.local
price@PU-C02F30LBMD6V:~ $ slogin pi@raspberrypi.local

Default p/w is "raspberry".

Set up key-based access:

price@PU-C02F30LBMD6V:~ $ ssh-copy-id pi@raspberrypi.local
price@PU-C02F30LBMD6V:~ $ slogin pi@raspberrypi.local

To disable p/w access, edit /etc/ssh/sshd_config to include:

PasswordAuthentication no

Change your p/w ("passwd"). The annoying message about changing your p/w should go away after a reboot (or rm /run/sshwarn).

Install the LED strip driver python interface:

pip3 install --user rpi_ws281x

I don't want to use that python wrapper.

Get important build tools:

pi@raspberrypi:~/Software $ sudo apt-get update
pi@raspberrypi:~/Software $ sudo apt-get install scons cmake

Build the base LED driver to make sure there's no issues:

pi@raspberrypi:~/Software $ git clone https://github.com/jgarff/rpi_ws281x.git
pi@raspberrypi:~/Software/rpi_ws281x $ mkdir build
pi@raspberrypi:~/Software/rpi_ws281x $ cd build/
pi@raspberrypi:~/Software/rpi_ws281x/build $ cmake -D BUILD_SHARED=ON -D BUILD_TEST=OFF ..
pi@raspberrypi:~/Software/rpi_ws281x/build $ make


Install some prereqs:

pi@raspberrypi:~ $ pip3 install --user pybind11
pi@raspberrypi:~ $ apt-get install fftw boost

Might want to add to PATH: ~/.local/bin


Install with cmake:

price@PU-C02F30LBMD6V:~/Software/light_show (price/20211008 *%) $ mkdir build && cd build
price@PU-C02F30LBMD6V:~/Software/light_show/build (price/20211008 *%) $ pybind11_DIR=$HOME/Library/Python/3.9/lib/python/site-packages/pybind11/share/cmake/pybind11 cmake ..
price@PU-C02F30LBMD6V:~/Software/light_show/build (price/20211008 *%) $ make install

Install with setup.py:

price@PU-C02F30LBMD6V:~/Software/light_show (price/20211008 *%) $ rm -r install/price@PU-C02F30LBMD6V:~/Software/light_show (price/20211008 *) $ pybind11_DIR=$HOME/Library/Python/3.9/lib/python/site-packages/pybind11/share/cmake/pybind11 python3 setup.py install --prefix=$HOME/Software/light_show/install


After either, we can now run it:

price@PU-C02F30LBMD6V:~/Software/light_show (price/20211008 *%) $ PYTHON_PATH+=$HOME/Software/light_show/install python3
